[Skip to content](https://github.com/getomni-ai/<#start-of-content>)
## Navigation Menu
Toggle navigation
[ ](https://github.com/getomni-ai/</>)
[ Sign in ](https://github.com/getomni-ai/</login?return_to=https%3A%2F%2Fgithub.com%2Fgetomni-ai%2Fzerox%3Ftab%3Dreadme-ov-file>)
  * Product 
    * [ GitHub Copilot Write better code with AI  ](https://github.com/getomni-ai/<https:/github.com/features/copilot>)
    * [ Security Find and fix vulnerabilities  ](https://github.com/getomni-ai/<https:/github.com/features/security>)
    * [ Actions Automate any workflow  ](https://github.com/getomni-ai/<https:/github.com/features/actions>)
    * [ Codespaces Instant dev environments  ](https://github.com/getomni-ai/<https:/github.com/features/codespaces>)
    * [ Issues Plan and track work  ](https://github.com/getomni-ai/<https:/github.com/features/issues>)
    * [ Code Review Manage code changes  ](https://github.com/getomni-ai/<https:/github.com/features/code-review>)
    * [ Discussions Collaborate outside of code  ](https://github.com/getomni-ai/<https:/github.com/features/discussions>)
    * [ Code Search Find more, search less  ](https://github.com/getomni-ai/<https:/github.com/features/code-search>)
Explore
    * [ All features ](https://github.com/getomni-ai/<https:/github.com/features>)
    * [ Documentation ](https://github.com/getomni-ai/<https:/docs.github.com>)
    * [ GitHub Skills ](https://github.com/getomni-ai/<https:/skills.github.com>)
    * [ Blog ](https://github.com/getomni-ai/<https:/github.blog>)
  * Solutions 
By company size
    * [ Enterprises ](https://github.com/getomni-ai/<https:/github.com/enterprise>)
    * [ Small and medium teams ](https://github.com/getomni-ai/<https:/github.com/team>)
    * [ Startups ](https://github.com/getomni-ai/<https:/github.com/enterprise/startups>)
    * [ Nonprofits ](https://github.com/getomni-ai/</solutions/industry/nonprofits>)
By use case
    * [ DevSecOps ](https://github.com/getomni-ai/</solutions/use-case/devsecops>)
    * [ DevOps ](https://github.com/getomni-ai/</solutions/use-case/devops>)
    * [ CI/CD ](https://github.com/getomni-ai/</solutions/use-case/ci-cd>)
    * [ View all use cases ](https://github.com/getomni-ai/</solutions/use-case>)
By industry
    * [ Healthcare ](https://github.com/getomni-ai/</solutions/industry/healthcare>)
    * [ Financial services ](https://github.com/getomni-ai/</solutions/industry/financial-services>)
    * [ Manufacturing ](https://github.com/getomni-ai/</solutions/industry/manufacturing>)
    * [ Government ](https://github.com/getomni-ai/</solutions/industry/government>)
    * [ View all industries ](https://github.com/getomni-ai/</solutions/industry>)
[ View all solutions ](https://github.com/getomni-ai/</solutions>)
  * Resources 
Topics
    * [ AI ](https://github.com/getomni-ai/</resources/articles/ai>)
    * [ DevOps ](https://github.com/getomni-ai/</resources/articles/devops>)
    * [ Security ](https://github.com/getomni-ai/</resources/articles/security>)
    * [ Software Development ](https://github.com/getomni-ai/</resources/articles/software-development>)
    * [ View all ](https://github.com/getomni-ai/</resources/articles>)
Explore
    * [ Learning Pathways ](https://github.com/getomni-ai/<https:/resources.github.com/learn/pathways>)
    * [ White papers, Ebooks, Webinars ](https://github.com/getomni-ai/<https:/resources.github.com>)
    * [ Customer Stories ](https://github.com/getomni-ai/<https:/github.com/customer-stories>)
    * [ Partners ](https://github.com/getomni-ai/<https:/partner.github.com>)
    * [ Executive Insights ](https://github.com/getomni-ai/<https:/github.com/solutions/executive-insights>)
  * Open Source 
    * [ GitHub Sponsors Fund open source developers  ](https://github.com/getomni-ai/</sponsors>)
    * [ The ReadME Project GitHub community articles  ](https://github.com/getomni-ai/<https:/github.com/readme>)
Repositories
    * [ Topics ](https://github.com/getomni-ai/<https:/github.com/topics>)
    * [ Trending ](https://github.com/getomni-ai/<https:/github.com/trending>)
    * [ Collections ](https://github.com/getomni-ai/<https:/github.com/collections>)
  * Enterprise 
    * [ Enterprise platform AI-powered developer platform  ](https://github.com/getomni-ai/</enterprise>)
Available add-ons
    * [ Advanced Security Enterprise-grade security features  ](https://github.com/getomni-ai/<https:/github.com/enterprise/advanced-security>)
    * [ GitHub Copilot Enterprise-grade AI features  ](https://github.com/getomni-ai/</features/copilot#enterprise>)
    * [ Premium Support Enterprise-grade 24/7 support  ](https://github.com/getomni-ai/</premium-support>)
  * [Pricing](https://github.com/getomni-ai/<https:/github.com/pricing>)


Search or jump to...
# Search code, repositories, users, issues, pull requests...
Search 
Clear
[Search syntax tips](https://github.com/getomni-ai/<https:/docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax>)
#  Provide feedback 
We read every piece of feedback, and take your input very seriously.
Include my email address so I can be contacted
Cancel  Submit feedback 
#  Saved searches 
## Use saved searches to filter your results more quickly
Name
Query
To see all available qualifiers, see our [documentation](https://github.com/getomni-ai/<https:/docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax>). 
Cancel  Create saved search 
[ Sign in ](https://github.com/getomni-ai/</login?return_to=https%3A%2F%2Fgithub.com%2Fgetomni-ai%2Fzerox%3Ftab%3Dreadme-ov-file>)
[ Sign up ](https://github.com/getomni-ai/</signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=getomni-ai%2Fzerox>) Reseting focus
You signed in with another tab or window. [Reload](https://github.com/getomni-ai/<>) to refresh your session. You signed out in another tab or window. [Reload](https://github.com/getomni-ai/<>) to refresh your session. You switched accounts on another tab or window. [Reload](https://github.com/getomni-ai/<>) to refresh your session. Dismiss alert
{{ message }}
[ getomni-ai ](https://github.com/getomni-ai/</getomni-ai>) / **[zerox](https://github.com/getomni-ai/</getomni-ai/zerox>) ** Public
  * [ Notifications ](https://github.com/getomni-ai/</login?return_to=%2Fgetomni-ai%2Fzerox>) You must be signed in to change notification settings
  * [ Fork 557 ](https://github.com/getomni-ai/</login?return_to=%2Fgetomni-ai%2Fzerox>)
  * [ Star  8.7k ](https://github.com/getomni-ai/</login?return_to=%2Fgetomni-ai%2Fzerox>)


PDF to Markdown with vision models 
[getomni.ai/ocr-demo](https://github.com/getomni-ai/<https:/getomni.ai/ocr-demo> "https://getomni.ai/ocr-demo")
### License
[ MIT license ](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/LICENSE>)
[ 8.7k stars ](https://github.com/getomni-ai/</getomni-ai/zerox/stargazers>) [ 557 forks ](https://github.com/getomni-ai/</getomni-ai/zerox/forks>) [ Branches ](https://github.com/getomni-ai/</getomni-ai/zerox/branches>) [ Tags ](https://github.com/getomni-ai/</getomni-ai/zerox/tags>) [ Activity ](https://github.com/getomni-ai/</getomni-ai/zerox/activity>)
[ Star  ](https://github.com/getomni-ai/</login?return_to=%2Fgetomni-ai%2Fzerox>)
[ Notifications ](https://github.com/getomni-ai/</login?return_to=%2Fgetomni-ai%2Fzerox>) You must be signed in to change notification settings
  * [ Code ](https://github.com/getomni-ai/</getomni-ai/zerox>)
  * [ Issues 39 ](https://github.com/getomni-ai/</getomni-ai/zerox/issues>)
  * [ Pull requests 9 ](https://github.com/getomni-ai/</getomni-ai/zerox/pulls>)
  * [ Actions ](https://github.com/getomni-ai/</getomni-ai/zerox/actions>)
  * [ Projects 0 ](https://github.com/getomni-ai/</getomni-ai/zerox/projects>)
  * [ Security ](https://github.com/getomni-ai/</getomni-ai/zerox/security>)
  * [ Insights ](https://github.com/getomni-ai/</getomni-ai/zerox/pulse>)


Additional navigation options
  * [ Code  ](https://github.com/getomni-ai/</getomni-ai/zerox>)
  * [ Issues  ](https://github.com/getomni-ai/</getomni-ai/zerox/issues>)
  * [ Pull requests  ](https://github.com/getomni-ai/</getomni-ai/zerox/pulls>)
  * [ Actions  ](https://github.com/getomni-ai/</getomni-ai/zerox/actions>)
  * [ Projects  ](https://github.com/getomni-ai/</getomni-ai/zerox/projects>)
  * [ Security  ](https://github.com/getomni-ai/</getomni-ai/zerox/security>)
  * [ Insights  ](https://github.com/getomni-ai/</getomni-ai/zerox/pulse>)


# getomni-ai/zerox
main
[Branches](https://github.com/getomni-ai/</getomni-ai/zerox/branches>)[Tags](https://github.com/getomni-ai/</getomni-ai/zerox/tags>)
[](https://github.com/getomni-ai/</getomni-ai/zerox/branches>)[](https://github.com/getomni-ai/</getomni-ai/zerox/tags>)
Go to file
Code
## Folders and files
Name| Name| Last commit message| Last commit date  
---|---|---|---  
## Latest commit
## History
[290 Commits](https://github.com/getomni-ai/</getomni-ai/zerox/commits/main/>)[](https://github.com/getomni-ai/</getomni-ai/zerox/commits/main/>)  
[.github/workflows](https://github.com/getomni-ai/</getomni-ai/zerox/tree/main/.github/workflows> "This path skips through empty directories")| [.github/workflows](https://github.com/getomni-ai/</getomni-ai/zerox/tree/main/.github/workflows> "This path skips through empty directories")  
[examples](https://github.com/getomni-ai/</getomni-ai/zerox/tree/main/examples> "examples")| [examples](https://github.com/getomni-ai/</getomni-ai/zerox/tree/main/examples> "examples")  
[node-zerox](https://github.com/getomni-ai/</getomni-ai/zerox/tree/main/node-zerox> "node-zerox")| [node-zerox](https://github.com/getomni-ai/</getomni-ai/zerox/tree/main/node-zerox> "node-zerox")  
[py_zerox](https://github.com/getomni-ai/</getomni-ai/zerox/tree/main/py_zerox> "py_zerox")| [py_zerox](https://github.com/getomni-ai/</getomni-ai/zerox/tree/main/py_zerox> "py_zerox")  
[shared](https://github.com/getomni-ai/</getomni-ai/zerox/tree/main/shared> "shared")| [shared](https://github.com/getomni-ai/</getomni-ai/zerox/tree/main/shared> "shared")  
[.editorconfig](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/.editorconfig> ".editorconfig")| [.editorconfig](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/.editorconfig> ".editorconfig")  
[.gitignore](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/.gitignore> ".gitignore")| [.gitignore](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/.gitignore> ".gitignore")  
[.npmignore](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/.npmignore> ".npmignore")| [.npmignore](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/.npmignore> ".npmignore")  
[.pre-commit-config.yaml](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/.pre-commit-config.yaml> ".pre-commit-config.yaml")| [.pre-commit-config.yaml](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/.pre-commit-config.yaml> ".pre-commit-config.yaml")  
[LICENSE](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/LICENSE> "LICENSE")| [LICENSE](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/LICENSE> "LICENSE")  
[MANIFEST.in](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/MANIFEST.in> "MANIFEST.in")| [MANIFEST.in](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/MANIFEST.in> "MANIFEST.in")  
[Makefile](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/Makefile> "Makefile")| [Makefile](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/Makefile> "Makefile")  
[README.md](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/README.md> "README.md")| [README.md](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/README.md> "README.md")  
[commitlint.config.js](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/commitlint.config.js> "commitlint.config.js")| [commitlint.config.js](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/commitlint.config.js> "commitlint.config.js")  
[jest.config.js](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/jest.config.js> "jest.config.js")| [jest.config.js](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/jest.config.js> "jest.config.js")  
[package-lock.json](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/package-lock.json> "package-lock.json")| [package-lock.json](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/package-lock.json> "package-lock.json")  
[package.json](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/package.json> "package.json")| [package.json](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/package.json> "package.json")  
[poetry.lock](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/poetry.lock> "poetry.lock")| [poetry.lock](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/poetry.lock> "poetry.lock")  
[pyproject.toml](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/pyproject.toml> "pyproject.toml")| [pyproject.toml](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/pyproject.toml> "pyproject.toml")  
[setup.cfg](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/setup.cfg> "setup.cfg")| [setup.cfg](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/setup.cfg> "setup.cfg")  
[setup.py](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/setup.py> "setup.py")| [setup.py](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/setup.py> "setup.py")  
View all files  
## Repository files navigation
  * [README](https://github.com/getomni-ai/<#>)
  * [MIT license](https://github.com/getomni-ai/<#>)


[![Hero Image](https://github.com/getomni-ai/zerox/raw/main/examples/heroImage.png)](https://github.com/getomni-ai/</getomni-ai/zerox/blob/main/examples/heroImage.png>)
## Zerox OCR
[](https://github.com/getomni-ai/<#zerox-ocr>)
[ ![Join us on Discord](https://private-user-images.githubusercontent.com/30934424/375571578-cccc0e9a-e3b2-425e-9b54-e5024681b129.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzczODQ0MTAsIm5iZiI6MTczNzM4NDExMCwicGF0aCI6Ii8zMDkzNDQyNC8zNzU1NzE1NzgtY2NjYzBlOWEtZTNiMi00MjVlLTliNTQtZTUwMjQ2ODFiMTI5LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAxMjAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMTIwVDE0NDE1MFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTg4MTc1NWM1NDJmMmE1M2Y4Mjk3OGQ2NGUyZDc3ODRjMDJhZDhjNDYxNTcxOTQ1YWIxOWIxZDk4ZTlkYjA2YWMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.d9WZx4fKpGiKdyWansCOytc2YtRsQev0qM1n4Wg8zM4) ](https://github.com/getomni-ai/<https:/discord.gg/smg2QfwtJ6>)
A dead simple way of OCR-ing a document for AI ingestion. Documents are meant to be a visual representation after all. With weird layouts, tables, charts, etc. The vision models just make sense!
The general logic:
  * Pass in a file (pdf, docx, image, etc.)
  * Convert that file into a series of images
  * Pass each image to GPT and ask nicely for Markdown
  * Aggregate the responses and return Markdown


Try out the hosted version here: <https://getomni.ai/ocr-demo>
## Getting Started
[](https://github.com/getomni-ai/<#getting-started>)
Zerox is available as both a Node and Python package.
  * [Node Readme](https://github.com/getomni-ai/<#node-zerox>) - [npm package](https://github.com/getomni-ai/<https:/www.npmjs.com/package/zerox>)
  * [Python Readme](https://github.com/getomni-ai/<#python-zerox>) - [pip package](https://github.com/getomni-ai/<https:/pypi.org/project/py-zerox/>)


## Node Zerox
[](https://github.com/getomni-ai/<#node-zerox>)
```
npm install zerox
```

Zerox uses `graphicsmagick` and `ghostscript` for the pdf => image processing step. These should be pulled automatically, but you may need to manually install.
On linux use:
```
sudo apt-get update
sudo apt-get install -y graphicsmagick

```

## Usage
[](https://github.com/getomni-ai/<#usage>)
**With file URL**
```
import { zerox } from "zerox";
const result = await zerox({
 filePath: "https://omni-demo-data.s3.amazonaws.com/test/cs101.pdf",
 openaiAPIKey: process.env.OPENAI_API_KEY,
});
```

**From local path**
```
import path from "path";
import { zerox } from "zerox";
const result = await zerox({
 filePath: path.resolve(__dirname, "./cs101.pdf"),
 openaiAPIKey: process.env.OPENAI_API_KEY,
});
```

### Options
[](https://github.com/getomni-ai/<#options>)
```
const result = await zerox({
 // Required
 filePath: "path/to/file",
 openaiAPIKey: process.env.OPENAI_API_KEY,
 // Optional
 cleanup: true, // Clear images from tmp after run.
 concurrency: 10, // Number of pages to run at a time.
 correctOrientation: true, // True by default, attempts to identify and correct page orientation.
 errorMode: ErrorMode.IGNORE, // ErrorMode.THROW or ErrorMode.IGNORE, defaults to ErrorMode.IGNORE.
 maintainFormat: false, // Slower but helps maintain consistent formatting.
 maxRetries: 1, // Number of retries to attempt on a failed page, defaults to 1.
 maxTesseractWorkers: -1, // Maximum number of tesseract workers. Zerox will start with a lower number and only reach maxTesseractWorkers if needed.
 model: "gpt-4o-mini", // Model to use (gpt-4o-mini or gpt-4o).
 onPostProcess: async ({ page, progressSummary }) => Promise<void>, // Callback function to run after each page is processed.
 onPreProcess: async ({ imagePath, pageNumber }) => Promise<void>, // Callback function to run before each page is processed.
 outputDir: undefined, // Save combined result.md to a file.
 pagesToConvertAsImages: -1, // Page numbers to convert to image as array (e.g. `[1, 2, 3]`) or a number (e.g. `1`). Set to -1 to convert all pages.
 tempDir: "/os/tmp", // Directory to use for temporary files (default: system temp directory).
 trimEdges: true, // True by default, trims pixels from all edges that contain values similar to the given background colour, which defaults to that of the top-left pixel.
});
```

The `maintainFormat` option trys to return the markdown in a consistent format by passing the output of a prior page in as additional context for the next page. This requires the requests to run synchronously, so it's a lot slower. But valuable if your documents have a lot of tabular data, or frequently have tables that cross pages.
```
Request #1 => page_1_image
Request #2 => page_1_markdown + page_2_image
Request #3 => page_2_markdown + page_3_image

```

### Example Output
[](https://github.com/getomni-ai/<#example-output>)
```
{
 completionTime: 10038,
 fileName: 'invoice_36258',
 inputTokens: 25543,
 outputTokens: 210,
 pages: [
  {
   content: '# INVOICE # 36258\n' +
    '**Date:** Mar 06 2012 \n' +
    '**Ship Mode:** First Class \n' +
    '**Balance Due:** $50.10 \n' +
    '## Bill To:\n' +
    'Aaron Bergman \n' +
    '98103, Seattle, \n' +
    'Washington, United States \n' +
    '## Ship To:\n' +
    'Aaron Bergman \n' +
    '98103, Seattle, \n' +
    'Washington, United States \n' +
    '\n' +
    '| Item                    | Quantity | Rate  | Amount |\n' +
    '|--------------------------------------------|----------|--------|---------|\n' +
    "| Global Push Button Manager's Chair, Indigo | 1    | $48.71 | $48.71 |\n" +
    '| Chairs, Furniture, FUR-CH-4421       |     |    |     |\n' +
    '\n' +
    '**Subtotal:** $48.71 \n' +
    '**Discount (20%):** $9.74 \n' +
    '**Shipping:** $11.13 \n' +
    '**Total:** $50.10 \n' +
    '---\n' +
    '**Notes:** \n' +
    'Thanks for your business! \n' +
    '**Terms:** \n' +
    'Order ID : CA-2012-AB10015140-40974 ',
   page: 1,
   contentLength: 747,
   status: 'SUCCESS',
  }
 ],
 summary: {
  failedPages: 0,
  successfulPages: 1,
  totalPages: 1,
 },
}
```

## Python Zerox
[](https://github.com/getomni-ai/<#python-zerox>)
(Python SDK - supports vision models from different providers like OpenAI, Azure OpenAI, Anthropic, AWS Bedrock etc)
### Installation
[](https://github.com/getomni-ai/<#installation>)
  * Install **poppler** on the system, it should be available in path variable. See the [pdf2image documentation](https://github.com/getomni-ai/<https:/pdf2image.readthedocs.io/en/latest/installation.html>) for instructions by platform.
  * Install py-zerox:


```
pip install py-zerox
```

The `pyzerox.zerox` function is an asynchronous API that performs OCR (Optical Character Recognition) to markdown using vision models. It processes PDF files and converts them into markdown format. Make sure to set up the environment variables for the model and the model provider before using this API.
Refer to the [LiteLLM Documentation](https://github.com/getomni-ai/<https:/docs.litellm.ai/docs/providers>) for setting up the environment and passing the correct model name.
### Usage
[](https://github.com/getomni-ai/<#usage-1>)
```
from pyzerox import zerox
import os
import json
import asyncio
### Model Setup (Use only Vision Models) Refer: https://docs.litellm.ai/docs/providers ###
## placeholder for additional model kwargs which might be required for some models
kwargs = {}
## system prompt to use for the vision model
custom_system_prompt = None
# to override
# custom_system_prompt = "For the below pdf page, do something..something..." ## example
###################### Example for OpenAI ######################
model = "gpt-4o-mini" ## openai model
os.environ["OPENAI_API_KEY"] = "" ## your-api-key

###################### Example for Azure OpenAI ######################
model = "azure/gpt-4o-mini" ## "azure/<your_deployment_name>" -> format <provider>/<model>
os.environ["AZURE_API_KEY"] = "" # "your-azure-api-key"
os.environ["AZURE_API_BASE"] = "" # "https://example-endpoint.openai.azure.com"
os.environ["AZURE_API_VERSION"] = "" # "2023-05-15"

###################### Example for Gemini ######################
model = "gemini/gpt-4o-mini" ## "gemini/<gemini_model>" -> format <provider>/<model>
os.environ['GEMINI_API_KEY'] = "" # your-gemini-api-key

###################### Example for Anthropic ######################
model="claude-3-opus-20240229"
os.environ["ANTHROPIC_API_KEY"] = "" # your-anthropic-api-key
###################### Vertex ai ######################
model = "vertex_ai/gemini-1.5-flash-001" ## "vertex_ai/<model_name>" -> format <provider>/<model>
## GET CREDENTIALS
## RUN ##
# !gcloud auth application-default login - run this to add vertex credentials to your env
## OR ##
file_path = 'path/to/vertex_ai_service_account.json'
# Load the JSON file
with open(file_path, 'r') as file:
  vertex_credentials = json.load(file)
# Convert to JSON string
vertex_credentials_json = json.dumps(vertex_credentials)
vertex_credentials=vertex_credentials_json
## extra args
kwargs = {"vertex_credentials": vertex_credentials}
###################### For other providers refer: https://docs.litellm.ai/docs/providers ######################
# Define main async entrypoint
async def main():
  file_path = "https://omni-demo-data.s3.amazonaws.com/test/cs101.pdf" ## local filepath and file URL supported
  ## process only some pages or all
  select_pages = None ## None for all, but could be int or list(int) page numbers (1 indexed)
  output_dir = "./output_test" ## directory to save the consolidated markdown file
  result = await zerox(file_path=file_path, model=model, output_dir=output_dir,
            custom_system_prompt=custom_system_prompt,select_pages=select_pages, **kwargs)
  return result

# run the main function:
result = asyncio.run(main())
# print markdown result
print(result)
```

### Parameters
[](https://github.com/getomni-ai/<#parameters>)
```
async def zerox(
  cleanup: bool = True,
  concurrency: int = 10,
  file_path: Optional[str] = "",
  maintain_format: bool = False,
  model: str = "gpt-4o-mini",
  output_dir: Optional[str] = None,
  temp_dir: Optional[str] = None,
  custom_system_prompt: Optional[str] = None,
  select_pages: Optional[Union[int, Iterable[int]]] = None,
  **kwargs
) -> ZeroxOutput:
 ...
```

Parameters
  * **cleanup** (bool, optional): Whether to clean up temporary files after processing. Defaults to True.
  * **concurrency** (int, optional): The number of concurrent processes to run. Defaults to 10.
  * **file_path** (Optional[str], optional): The path to the PDF file to process. Defaults to an empty string.
  * **maintain_format** (bool, optional): Whether to maintain the format from the previous page. Defaults to False.
  * **model** (str, optional): The model to use for generating completions. Defaults to "gpt-4o-mini". Refer to LiteLLM Providers for the correct model name, as it may differ depending on the provider.
  * **output_dir** (Optional[str], optional): The directory to save the markdown output. Defaults to None.
  * **temp_dir** (str, optional): The directory to store temporary files, defaults to some named folder in system's temp directory. If already exists, the contents will be deleted before zerox uses it.
  * **custom_system_prompt** (str, optional): The system prompt to use for the model, this overrides the default system prompt of zerox.Generally it is not required unless you want some specific behaviour. When set, it will raise a friendly warning. Defaults to None.
  * **select_pages** (Optional[Union[int, Iterable[int]]], optional): Pages to process, can be a single page number or an iterable of page numbers, Defaults to None
  * **kwargs** (dict, optional): Additional keyword arguments to pass to the litellm.completion method. Refer to the LiteLLM Documentation and Completion Input for details.


Returns
  * ZeroxOutput: Contains the markdown content generated by the model and also some metadata (refer below).


### Example Output (Output from "azure/gpt-4o-mini")
[](https://github.com/getomni-ai/<#example-output-output-from-azuregpt-4o-mini>)
`Note: The output is mannually wrapped for this documentation for better readability.`
```
ZeroxOutput(
  completion_time=9432.975,
  file_name='cs101',
  input_tokens=36877,
  output_tokens=515,
  pages=[
    Page(
      content='| Type  | Description             | Wrapper Class |\n' +
          '|---------|--------------------------------------|---------------|\n' +
          '| byte  | 8-bit signed 2s complement integer  | Byte     |\n' +
          '| short  | 16-bit signed 2s complement integer | Short     |\n' +
          '| int   | 32-bit signed 2s complement integer | Integer    |\n' +
          '| long  | 64-bit signed 2s complement integer | Long     |\n' +
          '| float  | 32-bit IEEE 754 floating point number| Float     |\n' +
          '| double | 64-bit floating point number     | Double    |\n' +
          '| boolean | may be set to true or false     | Boolean    |\n' +
          '| char  | 16-bit Unicode (UTF-16) character  | Character   |\n\n' +
          'Table 26.2.: Primitive types in Java\n\n' +
          '### 26.3.1. Declaration & Assignment\n\n' +
          'Java is a statically typed language meaning that all variables must be declared before you can use ' +
          'them or refer to them. In addition, when declaring a variable, you must specify both its type and ' +
          'its identifier. For example:\n\n' +
          '```java\n' +
          'int numUnits;\n' +
          'double costPerUnit;\n' +
          'char firstInitial;\n' +
          'boolean isStudent;\n' +
          '```\n\n' +
          'Each declaration specifies the variable’s type followed by the identifier and ending with a ' +
          'semicolon. The identifier rules are fairly standard: a name can consist of lowercase and ' +
          'uppercase alphabetic characters, numbers, and underscores but may not begin with a numeric ' +
          'character. We adopt the modern camelCasing naming convention for variables in our code. In ' +
          'general, variables must be assigned a value before you can use them in an expression. You do not ' +
          'have to immediately assign a value when you declare them (though it is good practice), but some ' +
          'value must be assigned before they can be used or the compiler will issue an error.\n\n' +
          'The assignment operator is a single equal sign, `=` and is a right-to-left assignment. That is, ' +
          'the variable that we wish to assign the value to appears on the left-hand-side while the value ' +
          '(literal, variable or expression) is on the right-hand-side. Using our variables from before, ' +
          'we can assign them values:\n\n' +
          '> 2 Instance variables, that is variables declared as part of an object do have default values. ' +
          'For objects, the default is `null`, for all numeric types, zero is the default value. For the ' +
          'boolean type, `false` is the default, and the default char value is `\\0`, the null-terminating ' +
          'character (zero in the ASCII table).',
      content_length=2333,
      page=1
    )
  ]
)
```

## Supported File Types
[](https://github.com/getomni-ai/<#supported-file-types>)
We use a combination of `libreoffice` and `graphicsmagick` to do document => image conversion. For non-image / non-pdf files, we use libreoffice to convert that file to a pdf, and then to an image.
```
[
 "pdf", // Portable Document Format
 "doc", // Microsoft Word 97-2003
 "docx", // Microsoft Word 2007-2019
 "odt", // OpenDocument Text
 "ott", // OpenDocument Text Template
 "rtf", // Rich Text Format
 "txt", // Plain Text
 "html", // HTML Document
 "htm", // HTML Document (alternative extension)
 "xml", // XML Document
 "wps", // Microsoft Works Word Processor
 "wpd", // WordPerfect Document
 "xls", // Microsoft Excel 97-2003
 "xlsx", // Microsoft Excel 2007-2019
 "ods", // OpenDocument Spreadsheet
 "ots", // OpenDocument Spreadsheet Template
 "csv", // Comma-Separated Values
 "tsv", // Tab-Separated Values
 "ppt", // Microsoft PowerPoint 97-2003
 "pptx", // Microsoft PowerPoint 2007-2019
 "odp", // OpenDocument Presentation
 "otp", // OpenDocument Presentation Template
];
```

## Credits
[](https://github.com/getomni-ai/<#credits>)
  * [Litellm](https://github.com/getomni-ai/<https:/github.com/BerriAI/litellm>): <https://github.com/BerriAI/litellm> | This powers our python sdk to support all popular vision models from different providers.


### License
[](https://github.com/getomni-ai/<#license>)
This project is licensed under the MIT License.
## About
PDF to Markdown with vision models 
[getomni.ai/ocr-demo](https://github.com/getomni-ai/<https:/getomni.ai/ocr-demo> "https://getomni.ai/ocr-demo")
### Topics
[ pdf ](https://github.com/getomni-ai/</topics/pdf> "Topic: pdf") [ ocr ](https://github.com/getomni-ai/</topics/ocr> "Topic: ocr")
### Resources
[ Readme ](https://github.com/getomni-ai/<#readme-ov-file>)
### License
[ MIT license ](https://github.com/getomni-ai/<#MIT-1-ov-file>)
[ Activity](https://github.com/getomni-ai/</getomni-ai/zerox/activity>)
[ Custom properties](https://github.com/getomni-ai/</getomni-ai/zerox/custom-properties>)
### Stars
[ **8.7k** stars](https://github.com/getomni-ai/</getomni-ai/zerox/stargazers>)
### Watchers
[ **39** watching](https://github.com/getomni-ai/</getomni-ai/zerox/watchers>)
### Forks
[ **557** forks](https://github.com/getomni-ai/</getomni-ai/zerox/forks>)
[ Report repository ](https://github.com/getomni-ai/</contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fgetomni-ai%2Fzerox&report=getomni-ai+%28user%29>)
##  [Releases 9](https://github.com/getomni-ai/</getomni-ai/zerox/releases>)
[ v0.1.06 Latest  Dec 18, 2024 ](https://github.com/getomni-ai/</getomni-ai/zerox/releases/tag/v0.1.06>)
[+ 8 releases](https://github.com/getomni-ai/</getomni-ai/zerox/releases>)
##  [Packages 0](https://github.com/getomni-ai/</orgs/getomni-ai/packages?repo_name=zerox>)
No packages published 
##  [Contributors 17](https://github.com/getomni-ai/</getomni-ai/zerox/graphs/contributors>)
  * [ ![@tylermaran](https://avatars.githubusercontent.com/u/30934424?s=64&v=4) ](https://github.com/getomni-ai/<https:/github.com/tylermaran>)
  * [ ![@annapo23](https://avatars.githubusercontent.com/u/44502862?s=64&v=4) ](https://github.com/getomni-ai/<https:/github.com/annapo23>)
  * [ ![@kailingding](https://avatars.githubusercontent.com/u/49173589?s=64&v=4) ](https://github.com/getomni-ai/<https:/github.com/kailingding>)
  * [ ![@xdotli](https://avatars.githubusercontent.com/u/51786539?s=64&v=4) ](https://github.com/getomni-ai/<https:/github.com/xdotli>)
  * [ ![@ZeeshanZulfiqarAli](https://avatars.githubusercontent.com/u/32417658?s=64&v=4) ](https://github.com/getomni-ai/<https:/github.com/ZeeshanZulfiqarAli>)
  * [ ![@alexander-densley](https://avatars.githubusercontent.com/u/89933800?s=64&v=4) ](https://github.com/getomni-ai/<https:/github.com/alexander-densley>)
  * [ ![@dfdeagle47](https://avatars.githubusercontent.com/u/4046296?s=64&v=4) ](https://github.com/getomni-ai/<https:/github.com/dfdeagle47>)
  * [ ![@pradhyumna85](https://avatars.githubusercontent.com/u/36568190?s=64&v=4) ](https://github.com/getomni-ai/<https:/github.com/pradhyumna85>)
  * [ ![@eltociear](https://avatars.githubusercontent.com/u/22633385?s=64&v=4) ](https://github.com/getomni-ai/<https:/github.com/eltociear>)
  * [ ![@wizenheimer](https://avatars.githubusercontent.com/u/91504165?s=64&v=4) ](https://github.com/getomni-ai/<https:/github.com/wizenheimer>)
  * [ ![@bjlange](https://avatars.githubusercontent.com/u/780375?s=64&v=4) ](https://github.com/getomni-ai/<https:/github.com/bjlange>)
  * [ ![@masparasol](https://avatars.githubusercontent.com/u/1947941?s=64&v=4) ](https://github.com/getomni-ai/<https:/github.com/masparasol>)
  * [ ![@GautierT](https://avatars.githubusercontent.com/u/6089653?s=64&v=4) ](https://github.com/getomni-ai/<https:/github.com/GautierT>)
  * [ ![@mg6](https://avatars.githubusercontent.com/u/7475587?s=64&v=4) ](https://github.com/getomni-ai/<https:/github.com/mg6>)


[+ 3 contributors](https://github.com/getomni-ai/</getomni-ai/zerox/graphs/contributors>)
## Languages
  * [ Python 46.2% ](https://github.com/getomni-ai/</getomni-ai/zerox/search?l=python>)
  * [ TypeScript 45.7% ](https://github.com/getomni-ai/</getomni-ai/zerox/search?l=typescript>)
  * [ JavaScript 4.4% ](https://github.com/getomni-ai/</getomni-ai/zerox/search?l=javascript>)
  * [ Makefile 3.7% ](https://github.com/getomni-ai/</getomni-ai/zerox/search?l=makefile>)


## Footer
[ ](https://github.com/getomni-ai/<https:/github.com> "GitHub") © 2025 GitHub, Inc. 
### Footer navigation
  * [Terms](https://github.com/getomni-ai/<https:/docs.github.com/site-policy/github-terms/github-terms-of-service>)
  * [Privacy](https://github.com/getomni-ai/<https:/docs.github.com/site-policy/privacy-policies/github-privacy-statement>)
  * [Security](https://github.com/getomni-ai/<https:/github.com/security>)
  * [Status](https://github.com/getomni-ai/<https:/www.githubstatus.com/>)
  * [Docs](https://github.com/getomni-ai/<https:/docs.github.com/>)
  * [Contact](https://github.com/getomni-ai/<https:/support.github.com?tags=dotcom-footer>)
  * Manage cookies 
  * Do not share my personal information 


You can’t perform that action at this time. 
